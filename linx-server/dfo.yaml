package:
  name: linx-server
  description: Self-hosted file/code/media sharing website

versions:
  "https://github.com/csmith/linx-server": latest

stages:
  - template: go-app
    with:
      repo: https://github.com/csmith/linx-server
      tag: "%{versions.https://github.com/csmith/linx-server}"
      binary: linx-server
      expose:
        - "8080"
      volumes:
        - path: /data/files
        - path: /data/meta
      entrypoint:
        - /linx-server
        - -bind=0.0.0.0:8080
        - -filespath=/data/files/
        - -metapath=/data/meta/
      cmd:
        - -sitename=linx
        - -allowhotlink
