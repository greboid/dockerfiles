# Generated from https://github.com/greboid/dockerfiles/blob/master/docker-socket-proxy/Containerfile.gotpl
# BOM: {"image:baseroot":"c0e2307d35f12546a86a703c9366d018619d61dae48cd16ebc6c10a51d3d7d91","image:haproxy":"e6485b8046d13cba7f65742637af5285d4c773cc1167b0d506dbe860d2ea879e"}

FROM reg.g5d.dev/haproxy@sha256:e6485b8046d13cba7f65742637af5285d4c773cc1167b0d506dbe860d2ea879e AS haproxy

FROM reg.g5d.dev/baseroot@sha256:c0e2307d35f12546a86a703c9366d018619d61dae48cd16ebc6c10a51d3d7d91

STOPSIGNAL SIGUSR1

COPY --from=haproxy /haproxy /haproxy
COPY haproxy.cfg haproxy.cfg.license /usr/local/etc/haproxy/

ENTRYPOINT ["/haproxy", "-W", "-db"]
CMD ["-f", "/usr/local/etc/haproxy/haproxy.cfg"]
