# Generated from https://github.com/greboid/dockerfiles/blob/master/docker-socket-proxy/Containerfile.gotpl
# BOM: {"image:baseroot":"923a2b9d36a10f86732b0218e40895c9998ebb662e762d31de6261fad26c1dfc","image:haproxy":"f12bdc919f11737199ae026755005ee2333cabcb8774fafe21bf58a9c664b954"}

FROM reg.g5d.dev/haproxy@sha256:f12bdc919f11737199ae026755005ee2333cabcb8774fafe21bf58a9c664b954 AS haproxy

FROM reg.g5d.dev/baseroot@sha256:923a2b9d36a10f86732b0218e40895c9998ebb662e762d31de6261fad26c1dfc

STOPSIGNAL SIGUSR1

COPY --from=haproxy /haproxy /haproxy
COPY haproxy.cfg haproxy.cfg.license /usr/local/etc/haproxy/

ENTRYPOINT ["/haproxy", "-W", "-db"]
CMD ["-f", "/usr/local/etc/haproxy/haproxy.cfg"]
